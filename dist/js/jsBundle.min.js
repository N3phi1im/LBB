!function(){"use strict";function e(e,t){e.state("Home",{url:"/",templateUrl:"views/home.html"}).state("Register",{url:"/Register",templateUrl:"views/register.html"}).state("Login",{url:"/Login",templateUrl:"views/login.html"}).state("Cat",{url:"/Cat",templateUrl:"views/cat.html"}).state("Style",{url:"/Style",templateUrl:"views/style.html"}).state("Profile",{url:"/Profile",templateUrl:"views/profile.html"}).state("Beer",{url:"/Beer",templateUrl:"views/beer_profile.html"}),t.otherwise("/")}angular.module("app",["ui.router","ui.bootstrap","infinite-scroll"]).config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e,t,r,s){var o=this;o.grabbed=r.grabbed,o.beers={},o.grab=function(e){o.beers.id=e,r.grab(o.beers).then(function(){s.go("Beer")})}}angular.module("app").controller("BeerController",e),e.$inject=["HomeFactory","UserFactory","BeerFactory","$state"]}(),function(){"use strict";function e(e,t,r,s){function o(e){r.searchBeer(e).then(function(){})}function n(){r.getCategory().then(function(){s.go("Cat")})}function a(){r.getStyle().then(function(){s.go("Style")})}function u(){s.go("Home")}var i=this;i.search=o,i.getCategory=n,i.getStyle=a,i.results=r.results,i.cats=r.cats,i.styles=r.styles,i.goHome=u}angular.module("app").controller("HomeController",e),e.$inject=["HomeFactory","UserFactory","BeerFactory","$state"]}(),function(){"use strict";function e(e,t){function r(){var r=o.user;return r.username&&r.email&&r.password&&r.cpassword&&r.password===r.cpassword?void e.register(r).then(function(){o.user={},t.go("Profile")}):($window.alert("Please fill all fields!"),!1)}function s(){e.login(o.user).then(function(){o.user={},t.go("Profile")})}var o=this;o.user={},o.status=e.status,o.register=r,o.login=s,o.logout=e.logout}angular.module("app").controller("IndexController",e),e.$inject=["UserFactory","$state"]}(),function(){"use strict";function e(e,t){function r(r){var s=t.defer();return e.post("/api/Beer/searchBeer",r).success(function(e){a.results.length=0;for(var t=0;t<e.length;t++)a.results.push(e[t]),s.resolve()}),s.promise}function s(r){var s=t.defer();return e.post("/api/Beer/grab",r).success(function(e){a.grabbed.length=0,e&&(a.grabbed.push(e),s.resolve())}),s.promise}function o(){var r=t.defer();return e.post("/api/Beer/Category").success(function(e){a.cats.length=0;for(var t=0;13>=t;t++)a.cats.push(e[t]),r.resolve()}),r.promise}function n(){var r=t.defer();return e.post("/api/Beer/Style").success(function(e){a.styles.length=0;for(var t=0;t<e.length;t++)a.styles.push(e[t]),r.resolve()}),r.promise}var a={};return a.results=[],a.grabbed=[],a.cats=[],a.styles=[],a.searchBeer=r,a.grab=s,a.getCategory=o,a.getStyle=n,a}angular.module("app").factory("BeerFactory",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t){var r={};return r}angular.module("app").factory("HomeFactory",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t,r){function s(r){var s=t.defer();return e.post("/api/Users/Register",r).success(function(e){a(e.token),c.status.isLoggedIn=!0,s.resolve()}),s.promise}function o(r){var s={username:r.username.toLowerCase(),password:r.password},o=t.defer();return e.post("/api/Users/Login",s).success(function(e){a(e.token),c.status.isLoggedIn=!0,o.resolve()}),o.promise}function n(){c.status.isLoggedIn=!1,i(),r.go("Login")}function a(e){localStorage.setItem("token",e),c.status.username=l()}function u(){return localStorage.token}function i(){localStorage.removeItem("token"),c.status.username=null}function l(){return JSON.parse(atob(u().split(".")[1])).username}var c={};return c.status={},u()&&(c.status.isLoggedIn=!0,c.status.username=l()),c.setToken=a,c.getToken=u,c.removeToken=i,c.register=s,c.login=o,c.logout=n,c}angular.module("app").factory("UserFactory",e),e.$inject=["$http","$q","$state"]}();