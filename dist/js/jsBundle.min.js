!function(){"use strict";function e(e,t){e.state("Home",{url:"/",templateUrl:"views/Home.html"}).state("Register",{url:"/Register",templateUrl:"views/register.html"}).state("Login",{url:"/Login",templateUrl:"views/login.html"}).state("Cat",{url:"/Cat",templateUrl:"views/cat.html"}).state("Style",{url:"/Style",templateUrl:"views/style.html"}).state("Profile",{url:"/Profile",templateUrl:"views/profile.html"}).state("Beer",{url:"/Beer",templateUrl:"views/beer_profile.html"}).state("Profile_beer",{url:"/Profile_beer",templateUrl:"views/profile_selected_beer.html"}).state("Wishlist",{url:"/Wishlist",templateUrl:"views/wishlist.html"}),t.otherwise("/")}angular.module("app",["ui.router","ui.bootstrap"]).config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e,t){function r(r){var o=t.defer();return e.post("/api/Beer/searchBeer",r).success(function(e){s.results.length=0;for(var t=0;t<e.length;t++)s.results.push(e[t]),o.resolve()}),o.promise}function o(r){var o=t.defer();return e.post("/api/Beer/grab",r).success(function(e){s.grabbed.length=0,e&&(s.grabbed.push(e),o.resolve())}),o.promise}function n(){var r=t.defer();return e.post("/api/Beer/Category").success(function(e){s.cats.length=0;for(var t=0;13>=t;t++)s.cats.push(e[t]),r.resolve()}),r.promise}function a(){var r=t.defer();return e.post("/api/Beer/Style").success(function(e){s.styles.length=0;for(var t=0;t<e.length;t++)s.styles.push(e[t]),r.resolve()}),r.promise}var s={};return s.results=[],s.grabbed=[],s.cats=[],s.styles=[],s.searchBeer=r,s.grab=o,s.getCategory=n,s.getStyle=a,s}angular.module("app").factory("BeerFactory",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t){var r={};return r}angular.module("app").factory("HomeFactory",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t){function r(r){var o=t.defer();return e.post("/api/beers/beer_had",r,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).success(function(e){r._id=e.id,r.dateHad=new Date,i.beer_had.push(r),o.resolve()}).error(function(e){console.error("YOU DONE MESSED UP! A A RON!"),o.reject(e)}),o.promise}function o(){e.get("/api/beers/beer_had",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).success(function(e){i.beer_had.length=0;for(var t=0;t<e.length;t++)e[t].dateHad=new Date(e[t].dateHad),i.beer_had.push(e[t])})}function n(r){var o=t.defer();return e.post("/api/beers/beer_want",r,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).success(function(e){r._id=e.id,i.beer_want.push(r),o.resolve()}).error(function(e){console.error("YOU DONE MESSED UP! A A RON!"),o.reject(e)}),o.promise}function a(){e.get("/api/beers/beer_want",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).success(function(e){i.beer_want.length=0;for(var t=0;t<e.length;t++)i.beer_want.push(e[t])})}function s(r){var o=t.defer();return e.get("/api/beers/grab/"+r).success(function(e){i.grabbed.length=0,e&&(i.grabbed.push(e),o.resolve())}),o.promise}var i={};return i.beer_had=[],i.beer_want=[],i.grabbed=[],i.grab=s,i.add_had=r,i.add_want=n,i.getbeerhad=o,i.getbeerwant=a,i}angular.module("app").factory("ProfileFactory",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t,r){function o(r){var o=t.defer();return e.post("/api/Users/Register",r).success(function(e){s(e.token),c.status.isLoggedIn=!0,o.resolve()}),o.promise}function n(r){var o={username:r.username.toLowerCase(),password:r.password},n=t.defer();return e.post("/api/Users/Login",o).success(function(e){s(e.token),c.status.isLoggedIn=!0,n.resolve()}),n.promise}function a(){c.status.isLoggedIn=!1,u(),r.go("Login")}function s(e){localStorage.setItem("token",e),c.status.username=l()}function i(){return localStorage.token}function u(){localStorage.removeItem("token"),c.status.username=null}function l(){return JSON.parse(atob(i().split(".")[1])).username}var c={};return c.status={},i()&&(c.status.isLoggedIn=!0,c.status.username=l()),c.setToken=s,c.getToken=i,c.removeToken=u,c.register=o,c.login=n,c.logout=a,c}angular.module("app").factory("UserFactory",e),e.$inject=["$http","$q","$state"]}(),function(){"use strict";function e(e,t,r,o){var n=this;n.grabbed=r.grabbed,n.beers={},n.grab=function(e){n.beers.id=e,r.grab(n.beers).then(function(){o.go("Beer")})}}angular.module("app").controller("BeerController",e),e.$inject=["HomeFactory","UserFactory","BeerFactory","$state"]}(),function(){"use strict";function e(e,t,r,o){function n(e){r.searchBeer(e).then(function(){})}function a(){r.getCategory().then(function(){o.go("Cat")})}function s(){r.getStyle().then(function(){o.go("Style")})}function i(){o.go("Home")}var u=this;u.search=n,u.getCategory=a,u.getStyle=s,u.results=r.results,u.cats=r.cats,u.styles=r.styles,u.goHome=i}angular.module("app").controller("HomeController",e),e.$inject=["HomeFactory","UserFactory","BeerFactory","$state"]}(),function(){"use strict";function e(e,t,r,o){function n(){var t=i.user;return t.username&&t.email&&t.password&&t.cpassword&&t.password===t.cpassword?void e.register(t).then(function(){i.user={},r.go("Profile")}):(o.alert("Please fill all fields!"),!1)}function a(){e.login(i.user).then(function(){i.user={},r.go("Profile")})}function s(){t.beer_had.length=0,t.beer_want.length=0,e.logout()}var i=this;i.user={},i.status=e.status,i.register=n,i.login=a,i.logout=s}angular.module("app").controller("IndexController",e),e.$inject=["UserFactory","ProfileFactory","$state","$window"]}(),function(){"use strict";function e(e,t,r,o,n){function a(e){o.add_had(e).then(function(){n.go("Profile")})}function s(e){o.add_want(e).then(function(){n.go("Home")})}function i(e){o.grab(e).then(function(){n.go("Profile_beer")})}var u=this;u.beer_had=o.beer_had,u.beer_want=o.beer_want,u.add_had=a,u.add_want=s,u.grab=i,u.grabbed=o.grabbed,o.getbeerhad(),o.getbeerwant()}angular.module("app").controller("ProfileController",e),e.$inject=["HomeFactory","UserFactory","BeerFactory","ProfileFactory","$state"]}();